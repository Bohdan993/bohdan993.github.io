var rotate_img=$(".rotate-img");jQuery.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()};var amimPlaySpeed="30s",scrollTopSpeed=parseInt(amimPlaySpeed);function send_form(e,o){var s="#"+e,i=$(s).serialize();$.ajax({type:"POST",url:o,data:i,success:function(e){"send_error"==e?alert("Возникла ошибка при отправке. Попробуйте пожалуйста еще раз."):"send_success"==e&&($(s)[0].reset(),$.magnificPopup.open({items:{src:"#thanks_popup"},type:"inline",mainClass:"my-mfp-zoom-in"}))},error:function(e,o){alert("Error: "+e.responseCode+" Please, try again later.")}})}$(rotate_img).css("animation","rot linear infinite").css("animation-duration",amimPlaySpeed),$(document).ready(function(){$(".go-to").on("click",function(e){e.preventDefault();var o=$(this).attr("href");if($(o).length){var s=$(o).offset().top;$("body,html").stop().animate({scrollTop:s},1500)}else console.warn("ID don't search!")}),$(window).on("scroll load",function(){1<$(this).scrollTop()?$(".navigation").addClass("fixed"):$(".navigation").removeClass("fixed")}),$(".nav-group li").on("click",function(){$(this).addClass("is-selected"),$(".nav-group li").not(this).removeClass("is-selected")}),$(".formats_card-text").on("scroll",function(){this.scrollTop==this.scrollHeight-this.clientHeight?$(this).closest(".formats_card").find(".format_cars-beforeShadow").fadeOut(400):$(this).closest(".formats_card").find(".format_cars-beforeShadow").fadeIn(400)})}),$(document).ready(function(){$(".benefits__number-2").hide();var t=!0,r=".made";$(window).on("scroll load resize",function(){if(!t)return!1;var e=$(window).scrollTop(),o=$(r).offset().top,s=$(window).height(),i=$(document).height(),n=$(r).outerHeight();(o<=e+500||s+e==i||n+o<s)&&($(".benefits__number").css("opacity","1"),$(".benefits__number-2").fadeIn(3500),$(".benefits__number").spincrement({thousandSeparator:"",duration:3500,from:0}),t=!1)}),(new WOW).init()}),$(document).ready(function(){$(".cases-slider").slick({infinite:!0,prevArrow:$(".prev-3"),nextArrow:$(".next-3"),slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:1230,settings:{slidesToShow:2}},{breakpoint:767,settings:{slidesToShow:1}}]}).on("setPosition",function(e,o){o.$slides.css("height",o.$slideTrack.height()+"px")}),$(".first-slider").slick({infinite:!0,speed:800,prevArrow:$(".prev"),nextArrow:$(".next"),slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:998,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]}).on("setPosition",function(e,o){o.$slides.css("height",o.$slideTrack.height()+"px")}),$(".second-slider").slick({infinite:!0,speed:800,prevArrow:$(".prev-2"),nextArrow:$(".next-2"),slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:998,settings:{slidesToShow:2}},{breakpoint:640,settings:{slidesToShow:1}}]}).on("setPosition",function(e,o){o.$slides.css("height",o.$slideTrack.height()+"px")})}),$(document).ready(function(){$(".show-menu-btn").on("click",function(){return $(this).toggleClass("anim-burger"),$(this).find(".ico-box").toggleClass("ico-anim"),$(".navigation").toggleClass("active-menu"),$(".overlay-menu").toggleClass("active-menu"),$("body").toggleClass("menu-opened"),!1}),$(".overlay-nav li a").not('.table-cell-phone').on("click",function(){return $(".navigation").removeClass("active-menu"),$(".show-menu-btn").removeClass("open"),$(".overlay-menu").removeClass("active-menu"),$("body").removeClass("menu-opened"),!1}),$(window).keydown(function(e){$(".overlay-menu").hasClass("active-menu")&&27===e.which&&($(".navigation").removeClass("active-menu"),$(".show-menu-btn").removeClass("open"),$(".overlay-menu").removeClass("active-menu"),$("body").removeClass("menu-opened"))}),Waves.init(),$(".video-box-play").on("click",function(){var e=$(this).closest(".video-holder").data("youtube"),o='<iframe src="https://www.youtube.com/embed/'+e+'?autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>',s=$(this).closest(".video-box-inner");$(s).append(o),$(this).hide(),console.log(e)}),$(".popup-with-zoom-anim").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-zoom-in"})});
//# sourceMappingURL=maps/script.js.map








$(document).ready(function(){
	var lastScrollTop=0;
	var scrolling = $(window).scroll(function(event) {
		


	var st=$(this).scrollTop();
	if (st>lastScrollTop){
		
		$('.news-after').hide();
		$('.news-before').hide();
	
		$('.news_container-before').hide();
		$('.news-before').css('box-shadow', 'unset');
	}
	else {
		$('.news-before').hide();
		$('.news_container-before').show();
		$('.news-after').show();
			
	}
	lastScrollTop=st;

	
	// Получаем нужный элемент
var element = document.querySelector('.visible-flex-container');

var Visible = function (target) {
  // Все позиции элемента
  var targetPosition = {
      top: window.pageYOffset + target.getBoundingClientRect().top,
      left: window.pageXOffset + target.getBoundingClientRect().left,
      right: window.pageXOffset + target.getBoundingClientRect().right,
      bottom: window.pageYOffset + target.getBoundingClientRect().bottom
    },
    // Получаем позиции окна
    windowPosition = {
      top: window.pageYOffset,
      left: window.pageXOffset,
      right: window.pageXOffset + document.documentElement.clientWidth,
      bottom: window.pageYOffset + document.documentElement.clientHeight
    };

  if (targetPosition.bottom > windowPosition.top && // Если позиция нижней части элемента больше позиции верхней чайти окна, то элемент виден сверху
    targetPosition.top < windowPosition.bottom && // Если позиция верхней части элемента меньше позиции нижней чайти окна, то элемент виден снизу
    targetPosition.right > windowPosition.left && // Если позиция правой стороны элемента больше позиции левой части окна, то элемент виден слева
    targetPosition.left < windowPosition.right) { // Если позиция левой стороны элемента меньше позиции правой чайти окна, то элемент виден справа
    // Если элемент полностью видно, то запускаем следующий код
	  
	  

  
	
    
    var currY = $(this).scrollTop();
	 
    var postHeight = 1100;
	 
	  
	var scrollHeight = $('.news').height();
    // Current percentual position
	var scrollPercent = (currY / (scrollHeight - postHeight)) * 100;
		
	

   $('.rotate-img').css('transform', 'rotate(' + scrollPercent * 0.9 + "deg" + ')'  );
	$('.news').css('top', scrollPercent + scrollHeight/3 + 'px');
/////////////////////////////////////////	



	  









  } else {
    // Если элемент не видно, то запускаем этот код
   $('.news').css('top', '0px');
	$('.rotate-img').css('transform', 'rotate(0deg)');

	  
  };
};
	
	

	


// Запускаем функцию при прокрутке страницы


	
  Visible (element);
	

// А также запустим функцию сразу. А то вдруг, элемент изначально видно
Visible (element);
	
		
	$('.table-cell-phone a').on('click', function(e){
		e.preventDefault();
	})
	
	})






	
	
	////////////////////////////////
	
	


});



$('.mouse-wheel').on('click', function(e){
	
	$(this).css('z-index', '-1');
	$('.mouse-wheel').not(this).css('z-index', '8');
	$('.format_card-text').scrollTop();

	

});	










			

	
$('.menu-table-cell').find('.overlay-nav').find('li').find('a').on('click', function(){

$('.show-menu-btn').removeClass('anim-burger');
$('.ico-box ').removeClass('ico-anim');
});